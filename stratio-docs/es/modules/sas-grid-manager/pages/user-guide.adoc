= Guía de usuario

== Descripción

El conector SSCC SAS® te permite la integración de ficheros generados por SAS® Grid Manager en _Stratio Generative AI Data Fabric_.

Las funcionalidades y versiones soportadas se encuentran en la xref:sas-grid-manager:compatibility-matrix.adoc[matriz de compatibilidad].

== Descubre tus datos

=== Conoce tus datos

El conector SSCC SAS® Grid Manager descubre los diferentes datos de la plataforma SAS® Grid Manager de la siguiente manera:

* SAS® Grid Manager es una plataforma con varios componentes. Uno de ellos es el servidor de datos, que guarda los datos de forma física en tablas con formato `sas7bdat`.
* El conector realiza la conexión usando el protocolo SFTP y extrae los recursos que se encuentren sobre la raíz de recursos configurada. De esta manera, los datos y metadatos de los recursos de tipo `sas7bdat` se extraen por el conector.

Además de lo que se muestra en xref:stratio-data-governance:user-manual:from-a-data-store-to-a-dictionary.adoc#_tablas_y_columnas[_Stratio Data Governance_], también puedes encontrar los atributos técnicos extraídos de los recursos de SAS®. Se extraen todos los metadatos que proporciona SAS® y se añaden a la interfaz de usuario de _Stratio Data Governance_.

* Los metadatos extraídos a nivel de conjunto de datos son _ServiceURL_, _filesystemName_, _filesystemPath_ y _filesystemType_.
* Los metadatos extraídos a nivel de carpeta (final) son _type_, _creationTime_, _hrSize_, _isDirectory_, _isRegularFile_, _lastModified_, _path_ y _size_.
* Los metadatos extraídos a nivel de tabla son _compressionMethod_, _encoding_, _fileLabel_, _OSName_, _OSType_, _SASRelease_, _serverType_, _sessionEncoding_, _dateCreated_, _dateModified_, _deletedRowCount_, _endianness_, _headerLength_, _pageCount_, _pageLength_ y _rowLength_.
* Los metadatos extraídos a nivel de columna son _format_, _label_, _sourceType_ y _columnLength_.

SAS® soporta unos pocos tipos de datos. Sin embargo, las columnas de SAS® soportan múltiples formatos para un tipo básico concreto. En _Stratio Data Governance_, la conversión de tipos se realiza de la siguiente manera:

- Si el tipo de dato es _char_ o _varchar_, el tipo de dato en _Stratio Data Governance_ será _string_.
- Si el tipo de dato es _double_, se tendrá en cuenta el formato. En cualquier caso, el usuario podrá ver el formato original en el atributo de columna `format`.

=== Virtualización de la BDL

El proceso de descubrimiento es asíncrono, una vez terminado el descubrimiento se podrá visualizar desde la interfaz de usuario de _Stratio Data Governance_.

El conector soporta la personalización del acceso al dato en las tablas virtualizadas mediante los siguientes xref:stratio-data-governance:user-manual:bdl-virtualization.adoc#_atributos_personalizados_de_bdl[atributos avanzados de BDL] de _Stratio Data Governance_, modificables desde la interfaz de usuario:

* `minBlockSize`
* `maxBlockSize`

NOTE: Puedes consultar cómo crear atributos en la xref:stratio-data-governance:user-manual:addition-of-metadata[guía de usuario] de _Stratio Data Governance_.

TIP: Para más detalles del uso de la BDL consulta la xref:stratio-data-governance:user-manual:data-processing-with-bdl.adoc[documentación de procesamiento de datos con BDL].

== Virtualiza tus datos

Una vez descubiertas las tablas, es posible añadirlas a una vista técnica de una colección. Todos los parámetros configurables del descubrimiento y los modificados desde la interfaz de usuario de _Stratio Data Governance_ se propagan en las colecciones donde se añada esa tabla.

TIP: Para saber más sobre cómo gestionar las colecciones puedes consultar xref:stratio-data-governance:user-manual:collections.adoc[la guía de usuario de _Stratio Data Governance_].

IMPORTANT: Ten en cuenta que, para virtualizar las tablas descubiertas, es necesario gestionar las xref:stratio-gosec:operations-manual:data-access/manage-policies/manage-domains-policies.adoc[políticas de dominios] a través de _Stratio GoSec_.

Para crear una tabla directamente en el catálogo de _Stratio Virtualizer_ puedes ejecutar la siguiente sentencia:

[source,sql]
----
CREATE TABLE sas_table(
    col1 INT,
    col2 STRING,
    col3 ...
) USING com.stratio.connectors.sasgrid OPTIONS (
   `SASGridHost`         '<sas_grid_host>',
   `stratiosecurity`     'true',
   `stratiosecuritymode` 'custom_sscc',
   `stratiocredentials`  '<nombre_secreto>',
   `stratiossccdriver`   'com.stratio.connectors.ssccsasgrid.SasGridDriverMD5',
   `path`   '<root_path>'
)
----

Añade las siguientes opciones a la tabla dependiendo de tus requisitos:

* `headerReadTime`: si tu tabla tiene muchas columnas, la lectura puede tardar bastante. Aumenta este número si esto ocurre (por defecto es 5 segundos).
* `minBlockSize`: el tamaño mínimo que debe tener una partición. Por defecto son 64MB.
* `maxBlockSize`: el tamaño máximo que debe tener una partición.

== Transforma tus datos

=== _Stratio Rocket_

Una vez virtualizados los datos, es posible acceder desde _Stratio Rocket_ mediante:

* El catálogo.
+
image::sas-rocket-catalog.png[]

* Dentro de los _workflows_, haciendo uso del _input_ de xref:stratio-rocket:user-guide:workflow-asset/data-inputs.adoc#_stratio_virtualizer[_Stratio Virtualizer_].
+
image::sas-rocket-virtualizer.png[]
+
El resultado de la ejecución de un _workflow_:
+
image::sas-rocket-output.png[]

=== _Stratio Intelligence_

TIP: Para más información sobre la consistencia de datos desde _Stratio Intelligence_ consulta el xref:ROOT:commiters.adoc[documento de integración].
