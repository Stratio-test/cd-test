= User guide

== Description

The SSCC MySQL connector will allow you to completely integrate MySQL in _Stratio Generative AI Data Fabric_.

It also allows connection to the MariaDB data store, which is a derivative of MySQL. To connect to MariaDB you can follow this guide, but keep in mind that *MySQL is the name used in it*.

Both the supported features and the different versions are found in the xref:mysql:compatibility-matrix.adoc[compatibility matrix].

== Discover your data

=== Know your data

In addition to what xref:stratio-data-governance:user-manual:from-a-data-store-to-a-dictionary.adoc#_tables_and_columns[_Stratio Data Governance_] shows, you can also find technical attributes extracted from MySQL resources. All of the metadata provided by MySQL is extracted and added to the _Stratio Data Governance_ UI in both tables and columns.

* The metadata extracted in table form are _database_, _table_ and _tableType_.
+
image:mysql-table-metadata.png[]

* The metadata extracted in column form are _type_ and _sourceType_.
+
image:mysql-column-metadata.png[]

== Virtualize your data

After tables have been discovered, you can add them to a technical view of a collection. All the configurable parameters of the discovery and those parameters modified from the _Stratio Data Governance_ UI are propagated in the collections where that table is added.

TIP: To learn more about how to manage collections you can consult the xref:stratio-data-governance:user-manual:collections.adoc[_Stratio Data Governance_ user guide].

IMPORTANT: Note that to virtualize the discovered tables, you need to manage the xref:stratio-gosec:operations-manual:data-access/manage-policies/manage-domains-policies.adoc[domain policies] through _Stratio GoSec_.

To create a table directly in the _Stratio Virtualizer_ catalog, you can execute the following statements:

* If you want to create the table using the JDBC driver compatible with versions older than 5.7:

[source,sql]
----
CREATE TABLE mysql_table USING jdbc OPTIONS (
    `stratiosecurity` 'true',
    `stratiosecuritymode` 'custom_sscc',
    `stratiocredentials` '<secret_name>',
    `stratiossccdriver` 'com.stratio.connectors.ssccmysql.MySqlDriver',
    `driver` 'com.mysql5142.jdbc.Driver',
    `url` 'jdbc:mysql://<mysql_host>:<mysql_port>/<mysql_database>',
    `dbtable` '<table_name>'
)
----

* For JDBC driver versions after 5.7:

[source,sql]
----
CREATE TABLE mysql_table USING jdbc OPTIONS (
    `stratiosecurity` 'true',
    `stratiosecuritymode` 'custom_sscc',
    `stratiocredentials` '<secret_name>',
    `stratiossccdriver` 'com.stratio.connectors.ssccmysql.MySqlDriver',
    `driver` 'com.mysql8030.cj.jdbc.Driver',
    `url` 'jdbc:mysql://<mysql_host>:<mysql_port>/<mysql_database>',
    `dbtable` '<table_name>'
)
----

== Transform your data

=== _Stratio Rocket_

After the data has been virtualized, you can access it from _Stratio Rocket_ using:

* The catalog.
+
image:mysql-rocket-catalog.png[]

* In the workflows using the input from xref:stratio-rocket:user-guide:workflow-asset/data-inputs.adoc#_stratio_virtualizer[_Stratio Virtualizer_]. You can force access through the native dialect by checking the "Force query execution with native connectors" box.
+
image:mysql-rocket-virtualizer-input.png[]

=== _Stratio Intelligence_

You can see how the data is accessed from _Stratio Intelligence_ in the xref:ROOT:quick-start-guide.adoc#_stratio_intelligence[quick start guide].
